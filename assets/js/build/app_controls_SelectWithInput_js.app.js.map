{"version":3,"file":"app_controls_SelectWithInput_js.app.js","mappings":"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","sources":["webpack:///./app/controls/SelectWithInput.js"],"sourcesContent":["import { Button } from \"@wordpress/components\";\nimport { useRef, useState } from \"@wordpress/element\";\nimport { __ } from \"@wordpress/i18n\";\nimport { Icon, chevronDown, close } from \"@wordpress/icons\";\nimport DivRow from './DivRow';\n\nconst SelectWithInput = ( {\n\tcomponentId,\n\tname,\n\toptions,\n\tdefaultValue,\n\tupdateField,\n\t...rest\n} ) => {\n\tconst [ showOptions, setShowOptions ] = useState( false );\n\tconst ref = useRef();\n\tconst [ value, setValue ] = useState( defaultValue );\n\n\tconst predefinedItem = Object.entries( options ).find( item => item[ 0 ] === defaultValue );\n\tconst isPredefined = predefinedItem !== undefined;\n\tconst label = isPredefined ? predefinedItem[ 1 ] : '';\n\n\tconst show = () => setShowOptions( true );\n\tconst hide = () => setShowOptions( false );\n\tconst toggle = () => setShowOptions( prev => !prev );\n\tconst remove = e => {\n\t\tupdateField( name, '' );\n\t\tref.current.focus();\n\t\tshow();\n\t\te.stopPropagation(); // Do not trigger \"toggle\" event on the parent div\n\t};\n\tconst select = e => {\n\t\thide();\n\t\tupdateField( name, e.target.dataset.value );\n\t};\n\n\tconst update = e => updateField( name, e.target.value );\n\n\treturn <DivRow htmlFor={ componentId } { ...rest }>\n\t\t<div className=\"og-select-with-input\">\n\t\t\t<input type=\"hidden\" name={ name } defaultValue={ defaultValue } />\n\t\t\t<input\n\t\t\t\tref={ ref }\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder={ __( 'Please select or enter a value', 'meta-box-builder' ) }\n\t\t\t\tid={ componentId }\n\t\t\t\tonFocus={ show }\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ update }\n\t\t\t/>\n\t\t\t<div className=\"og-select-with-input__icon\" onClick={ toggle }><Icon icon={ chevronDown } /></div>\n\t\t\t{\n\t\t\t\tisPredefined &&\n\t\t\t\t<div className=\"og-select-with-input__selected\" onClick={ toggle }>\n\t\t\t\t\t{ label }\n\t\t\t\t\t<Button icon={ close } size=\"small\" iconSize={ 12 } isDestructive={ true } onClick={ remove } />\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{\n\t\t\t\tshowOptions &&\n\t\t\t\t<div className=\"og-select-with-input__options\">\n\t\t\t\t\t<div className=\"og-description\">{ __( 'Select a value below or type to enter a manual value.', 'meta-box-builder' ) }</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tObject.entries( options ).map( item => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={ item[ 0 ] }\n\t\t\t\t\t\t\t\tclassName={ `og-select-with-input__option ${ item[ 0 ] === defaultValue ? 'og-select-with-input__option--selected' : '' }` }\n\t\t\t\t\t\t\t\tdata-value={ item[ 0 ] }\n\t\t\t\t\t\t\t\tonClick={ select }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ item[ 1 ] }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) )\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t</DivRow>;\n};\n\nexport default SelectWithInput;"],"names":["Button","useRef","useState","__","Icon","chevronDown","close","DivRow","SelectWithInput","componentId","name","options","defaultValue","updateField","rest","showOptions","setShowOptions","ref","value","setValue","predefinedItem","Object","entries","find","item","isPredefined","undefined","label","show","hide","toggle","prev","remove","e","current","focus","stopPropagation","select","target","dataset","update","createElement","htmlFor","className","type","placeholder","id","onFocus","onChange","onClick","icon","size","iconSize","isDestructive","map","key"],"sourceRoot":""}