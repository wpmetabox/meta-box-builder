{"version":3,"file":"app_controls_Validation_js.app.js","mappings":"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","sources":["webpack:///./app/controls/Validation.js"],"sourcesContent":["import { Button } from '@wordpress/components';\nimport { __ } from \"@wordpress/i18n\";\nimport { maybeArrayToObject, uniqid } from '../functions';\nimport DivRow from './DivRow';\n\nconst Validation = ( { defaultValue, name, updateField, ...rest } ) => {\n\tconst rules = maybeArrayToObject( defaultValue, 'id' );\n\n\tconst addRule = () => {\n\t\tconst newRule = { name: 'required', value: true, message: '', id: uniqid() };\n\t\tupdateField( name, {\n\t\t\t...rules,\n\t\t\t[newRule.id]: newRule,\n\t\t} );\n\t};\n\n\tconst removeRule = id => {\n\t\tconst newRules = { ...rules };\n\t\tdelete newRules[id];\n\t\tupdateField( name, newRules );\n\t};\n\n\treturn (\n\t\t<DivRow className=\"og-include-exclude\" { ...rest }>\n\t\t\t{\n\t\t\t\tObject.values( rules ).map( rule => <Rule\n\t\t\t\t\tkey={ rule.id }\n\t\t\t\t\trule={ rule }\n\t\t\t\t\tremoveRule={ removeRule }\n\t\t\t\t\tupdateField={ updateField }\n\t\t\t\t/> )\n\t\t\t}\n\t\t\t<Button variant=\"secondary\" onClick={ addRule } text={ __( '+ Add Rule', 'meta-box-builder' ) } />\n\t\t</DivRow>\n\t);\n};\n\nconst Rule = ( { rule, removeRule, updateField } ) => {\n\tconst update = key => e => updateField( `validation.${ rule.id }.${ key }`, e.target.value );\n\tconst updateName = e => {\n\t\tupdateField( `validation.${ rule.id }.name`, e.target.value );\n\t\tif ( [ 'required', 'email', 'url', 'date', 'dateISO', 'number', 'digits', 'creditcard', 'phoneUS' ].includes( e.target.value ) ) {\n\t\t\tupdateField( `validation.${ rule.id }.value`, true );\n\t\t} else {\n\t\t\tupdateField( `validation.${ rule.id }.value`, '' );\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"og-include-exclude__rule\">\n\t\t\t<select className=\"og-include-exclude__name\" defaultValue={ rule.name } onChange={ updateName }>\n\t\t\t\t<option value=\"required\">{ __( 'Required', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"minlength\">{ __( 'Min length', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"maxlength\">{ __( 'Max length', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"rangelength\">{ __( 'Range length', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"min\">{ __( 'Min value', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"max\">{ __( 'Max value', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"range\">{ __( 'Range', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"step\">{ __( 'Step', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"email\">{ __( 'Email', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"url\">{ __( 'URL', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"date\">{ __( 'Date', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"dateISO\">{ __( 'ISO date', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"number\">{ __( 'Decimal number', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"digits\">{ __( 'Digits only', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"creditcard\">{ __( 'Credit card number', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"phoneUS\">{ __( 'US phone number', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"accept\">{ __( 'MIME types', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"extension\">{ __( 'File extensions', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"equalTo\">{ __( 'Equals to another field', 'meta-box-builder' ) }</option>\n\t\t\t\t<option value=\"remote\">{ __( 'Remote', 'meta-box-builder' ) }</option>\n\t\t\t</select>\n\t\t\t{\n\t\t\t\t[ 'minlength', 'maxlength', 'min', 'max', 'step', 'accept', 'extension', 'equalTo', 'remote' ].includes( rule.name ) &&\n\t\t\t\t<input defaultValue={ rule.value } type=\"text\" placeholder={ __( 'Enter a value', 'meta-box-builder' ) } onChange={ update( 'value' ) } />\n\t\t\t}\n\t\t\t{\n\t\t\t\t[ 'rangelength', 'range' ].includes( rule.name ) &&\n\t\t\t\t<input defaultValue={ rule.value } type=\"text\" placeholder={ __( 'Ex. 2,6', 'meta-box-builder' ) } title={ __( 'Separate values by a comma', 'meta-box-builder' ) } onChange={ update( 'value' ) } />\n\t\t\t}\n\t\t\t<input defaultValue={ rule.message } type=\"text\" placeholder={ __( 'Custom error message', 'meta-box-builder' ) } onChange={ update( 'message' ) } />\n\t\t\t<Button variant=\"link\" isDestructive={ true } onClick={ () => removeRule( rule.id ) } text={ __( 'Remove', 'meta-box-builder' ) } />\n\t\t</div>\n\t);\n};\n\nexport default Validation;"],"names":["Button","__","maybeArrayToObject","uniqid","DivRow","Validation","defaultValue","name","updateField","rest","rules","addRule","newRule","value","message","id","removeRule","newRules","createElement","className","Object","values","map","rule","Rule","key","variant","onClick","text","update","e","target","updateName","includes","onChange","type","placeholder","title","isDestructive"],"sourceRoot":""}