{"version":3,"file":"app_controls_CloneSettings_js.app.js","mappings":"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","sources":["webpack:///./app/controls/CloneSettings.js"],"sourcesContent":["import { Button, Dropdown, ToggleControl } from \"@wordpress/components\";\nimport { useEffect, useRef } from \"@wordpress/element\";\nimport { __ } from \"@wordpress/i18n\";\nimport { close } from \"@wordpress/icons\";\nimport DivRow from \"./DivRow\";\nimport Tooltip from \"./Tooltip\";\n\nconst OutsideClickDetector = ( { onClickOutside, children, toggleRef } ) => {\n\tconst ref = useRef();\n\n\tuseEffect( () => {\n\t\tconst handleClickOutside = e => {\n\t\t\t// Don't close if clicking on the toggle button\n\t\t\tif ( toggleRef?.current && toggleRef.current.contains( e.target ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ref.current && !ref.current.contains( e.target ) ) {\n\t\t\t\tonClickOutside?.();\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener( 'mousedown', handleClickOutside );\n\t\treturn () => {\n\t\t\tdocument.removeEventListener( 'mousedown', handleClickOutside );\n\t\t};\n\t}, [ onClickOutside, toggleRef ] );\n\n\treturn <div ref={ ref }>{ children }</div>;\n};\n\nconst CloneSettings = ( { componentId, defaultValue, updateField, ...rest } ) => {\n\tconst toggle = name => value => updateField( name, value );\n\tconst update = name => e => updateField( name, e.target.value );\n\tconst toggleRef = useRef();\n\n\treturn (\n\t\t<>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ { placement: 'bottom-end' } }\n\t\t\t\tclassName=\"og-clone\"\n\t\t\t\tcontentClassName=\"og og-clone__content\"\n\t\t\t\tfocusOnMount={ false }\n\t\t\t\trenderToggle={ ( { onToggle } ) => (\n\t\t\t\t\t<label\n\t\t\t\t\t\tref={ toggleRef }\n\t\t\t\t\t\tclassName={ `og-status ${ defaultValue.clone ? 'og-status--active' : '' }` }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cloneable', 'meta-box-builder' ) }\n\t\t\t\t\t</label>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<OutsideClickDetector onClickOutside={ onClose } toggleRef={ toggleRef }>\n\t\t\t\t\t\t<Button icon={ close } onClick={ onClose } iconSize={ 16 } />\n\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tclassName=\"og-field\"\n\t\t\t\t\t\t\tlabel={ __( 'Make the field cloneable', 'meta-box-builder' ) }\n\t\t\t\t\t\t\tchecked={ defaultValue.clone }\n\t\t\t\t\t\t\tonChange={ toggle( 'clone' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tclassName=\"og-field\"\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{ __( 'Start with no inputs', 'meta-box-builder' ) }\n\t\t\t\t\t\t\t\t\t<Tooltip content={ __( 'Show no inputs at first except the \"+ Add more\" button', 'meta-box-builder' ) } />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={ defaultValue.clone_empty_start }\n\t\t\t\t\t\t\tonChange={ toggle( 'clone_empty_start' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tclassName=\"og-field\"\n\t\t\t\t\t\t\tlabel={ __( 'Allow to reorder clones', 'meta-box-builder' ) }\n\t\t\t\t\t\t\tchecked={ defaultValue.sort_clone }\n\t\t\t\t\t\t\tonChange={ toggle( 'sort_clone' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tclassName=\"og-field\"\n\t\t\t\t\t\t\tlabel={ __( 'Set default values for new clones', 'meta-box-builder' ) }\n\t\t\t\t\t\t\tchecked={ defaultValue.clone_default }\n\t\t\t\t\t\t\tonChange={ toggle( 'clone_default' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tclassName=\"og-field\"\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{ __( 'Save in multiple rows', 'meta-box-builder' ) }\n\t\t\t\t\t\t\t\t\t<Tooltip content={ __( 'Save each clone in a single row instead of saving all clones in one serialized row in the database', 'meta-box-builder' ) } />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={ defaultValue.clone_as_multiple }\n\t\t\t\t\t\t\tonChange={ toggle( 'clone_as_multiple' ) }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<DivRow label={ __( 'Number of clones', 'meta-box-builder' ) }>\n\t\t\t\t\t\t\t<div className=\"og-input-group\">\n\t\t\t\t\t\t\t\t<label htmlFor={ `${ componentId }-min_clone` }>{ __( 'Min', 'meta-box-builder' ) }</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\tid={ `${ componentId }-min_clone` }\n\t\t\t\t\t\t\t\t\tdefaultValue={ defaultValue.min_clone }\n\t\t\t\t\t\t\t\t\tonChange={ update( 'min_clone' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor={ `${ componentId }-max_clone` }>{ __( 'Max', 'meta-box-builder' ) }</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\tid={ `${ componentId }-max_clone` }\n\t\t\t\t\t\t\t\t\tdefaultValue={ defaultValue.max_clone }\n\t\t\t\t\t\t\t\t\tonChange={ update( 'max_clone' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</DivRow>\n\t\t\t\t\t\t<DivRow\n\t\t\t\t\t\t\thtmlFor={ `${ componentId }-add_button` }\n\t\t\t\t\t\t\tlabel={ __( 'Add more text', 'meta-box-builder' ) }\n\t\t\t\t\t\t\tdescription={ __( 'Custom text for the the \"+ Add more\" button. Leave empty to use the default text.', 'meta-box-builder' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input type=\"text\" id={ `${ componentId }-add_button` } defaultValue={ defaultValue.add_button } onChange={ update( 'add_button' ) } />\n\t\t\t\t\t\t</DivRow>\n\t\t\t\t\t</OutsideClickDetector>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default CloneSettings;"],"names":["Button","Dropdown","ToggleControl","useEffect","useRef","__","close","DivRow","Tooltip","OutsideClickDetector","onClickOutside","children","toggleRef","ref","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","createElement","CloneSettings","componentId","defaultValue","updateField","rest","toggle","name","value","update","Fragment","popoverProps","placement","className","contentClassName","focusOnMount","renderToggle","onToggle","clone","onClick","renderContent","onClose","icon","iconSize","label","checked","onChange","content","clone_empty_start","sort_clone","clone_default","clone_as_multiple","htmlFor","type","min","id","min_clone","max_clone","description","add_button"],"sourceRoot":""}