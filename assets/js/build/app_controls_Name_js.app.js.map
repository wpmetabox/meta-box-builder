{"version":3,"file":"app_controls_Name_js.app.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAuD;AACb;AACZ;AAE9B,MAAMI,IAAI,GAAGA,CAAE;EAAEC,WAAW;EAAEC,KAAK;EAAEC,WAAW;EAAE,GAAGC;AAAK,CAAC,KAAM;EAChE,MAAMC,QAAQ,GAAGR,0DAAM,CAAC,CAAC;EAEzB,MAAMS,YAAY,GAAGC,CAAC,IAAI;IACzB,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5BL,WAAW,CAAE,MAAM,EAAEK,KAAM,CAAC;;IAE5B;IACA,IAAKN,KAAK,CAACQ,IAAI,IAAI,CAACR,KAAK,CAACS,WAAW,IAAI,CAAC,CAAE,aAAa,EAAE,SAAS,EAAE,SAAS,CAAE,CAACC,QAAQ,CAAEV,KAAK,CAACW,IAAK,CAAC,EAAG;MAC1GV,WAAW,CAAE,IAAI,EAAEL,sDAAU,CAAEU,KAAM,CAAE,CAAC;IACzC;EACD,CAAC;;EAED;EACA,MAAMM,gBAAgB,GAAGA,CAAA,KAAMX,WAAW,CAAE,aAAa,EAAE,IAAK,CAAC;;EAEjE;EACAP,6DAAS,CAAE,MAAM;IAChB,IAAKS,QAAQ,CAACU,OAAO,IAAIV,QAAQ,CAACU,OAAO,CAACP,KAAK,KAAKN,KAAK,CAACc,IAAI,EAAG;MAChEX,QAAQ,CAACU,OAAO,CAACP,KAAK,GAAGN,KAAK,CAACc,IAAI,IAAI,EAAE;IAC1C;EACD,CAAC,EAAE,CAAEd,KAAK,CAACc,IAAI,CAAG,CAAC;EAEnB,OACCC,oDAAA,CAAClB,+CAAM;IAACmB,OAAO,EAAGjB,WAAa;IAAA,GAAMG;EAAI,GACxCa,oDAAA;IACCE,GAAG,EAAGd,QAAU;IAChBQ,IAAI,EAAC,MAAM;IACXO,EAAE,EAAGnB,WAAa;IAClBoB,YAAY,EAAGnB,KAAK,CAACc,IAAI,IAAI,EAAI;IACjCM,MAAM,EAAGR,gBAAkB;IAC3BS,QAAQ,EAAGjB;EAAc,CACzB,CACM,CAAC;AAEX,CAAC;AAED,iEAAeN,IAAI","sources":["webpack:///./app/controls/Name.js"],"sourcesContent":["import { useEffect, useRef } from '@wordpress/element';\nimport { sanitizeId } from '../functions';\nimport DivRow from './DivRow';\n\nconst Name = ( { componentId, field, updateField, ...rest } ) => {\n\tconst inputRef = useRef();\n\n\tconst handleChange = e => {\n\t\tconst value = e.target.value;\n\t\tupdateField( 'name', value );\n\n\t\t// Only generate ID if it's a new field and hasn't been manually changed\n\t\tif ( field._new && !field._id_changed && ![ 'custom_html', 'divider', 'heading' ].includes( field.type ) ) {\n\t\t\tupdateField( 'id', sanitizeId( value ) );\n\t\t}\n\t};\n\n\t// When done updating \"name\", don't auto generate ID.\n\tconst stopGeneratingId = () => updateField( '_id_changed', true );\n\n\t// Use ref to manually update its value, avoid React touching the input value directly to avoid cursor jumping to the start.\n\tuseEffect( () => {\n\t\tif ( inputRef.current && inputRef.current.value !== field.name ) {\n\t\t\tinputRef.current.value = field.name || '';\n\t\t}\n\t}, [ field.name ] );\n\n\treturn (\n\t\t<DivRow htmlFor={ componentId } { ...rest }>\n\t\t\t<input\n\t\t\t\tref={ inputRef }\n\t\t\t\ttype=\"text\"\n\t\t\t\tid={ componentId }\n\t\t\t\tdefaultValue={ field.name || '' }\n\t\t\t\tonBlur={ stopGeneratingId }\n\t\t\t\tonChange={ handleChange }\n\t\t\t/>\n\t\t</DivRow>\n\t);\n};\n\nexport default Name;"],"names":["useEffect","useRef","sanitizeId","DivRow","Name","componentId","field","updateField","rest","inputRef","handleChange","e","value","target","_new","_id_changed","includes","type","stopGeneratingId","current","name","createElement","htmlFor","ref","id","defaultValue","onBlur","onChange"],"sourceRoot":""}